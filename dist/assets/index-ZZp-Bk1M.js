import{a as n2}from"./avatat-TZWmZvAa.js";import{h as l2}from"./hint-osXcIIjs.js";import{i as r2,g as i2,N as c2}from"./index-9Jkl5zdw.js";import{d as N,r as H,o as G,a as d2,b as _,c as a,e as i,f as e,u as n,n as j,t as u,F as I,g as A,h as S,m as p2,i as p,w as u2,j as d,I as h2,k as _2,l as v,p as b,q as C2,s as x2,v as K,x as f2,y as g2,z as m2,A as v2,L as w2,R as H2,B as y2,C as V2,D as b2}from"./index-QipkEmuD.js";import{u as k2,a as L2,_ as M2}from"./item.vue_vue_type_script_setup_true_lang-F7Wlhp_2.js";import{r as Z2,u as $2}from"./word-VjvQjSop.js";import{_ as J}from"./_plugin-vue_export-helper-x3n3nnut.js";import{u as B2}from"./exam-J8vLxFPm.js";import{u as I2}from"./user-ej2hT9Lk.js";import"./children.vue_vue_type_script_setup_true_lang-M-TKkw4G.js";import"./ai-TkEbFKkE.js";import"./result-WxxU0tfn.js";const A2="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7%2011H9V13H7V11ZM7%2015H9V17H7V15ZM11%2011H13V13H11V11ZM11%2015H13V17H11V15ZM15%2011H17V13H15V11ZM15%2015H17V17H15V15Z'%20fill='white'/%3e%3cpath%20d='M5%2022H19C20.103%2022%2021%2021.103%2021%2020V6C21%204.897%2020.103%204%2019%204H17V2H15V4H9V2H7V4H5C3.897%204%203%204.897%203%206V20C3%2021.103%203.897%2022%205%2022ZM19%208L19.001%2020H5V8H19Z'%20fill='white'/%3e%3c/svg%3e",j2="data:image/svg+xml,%3csvg%20width='30'%20height='80'%20viewBox='0%200%2030%2080'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.362%2066.576L14.09%2067.878C12.55%2068.382%2010.856%2068.69%208.98%2068.802V70.888H14.398V72.274H12.424V79.498H10.982V72.274H8.98V72.624C8.882%2075.466%208.084%2077.734%206.6%2079.428L5.55%2078.336C6.796%2076.964%207.468%2075.06%207.566%2072.624V67.556C9.736%2067.5%2011.668%2067.178%2013.362%2066.576ZM6.264%2067.57V76.46H3.506V77.356H2.05V67.57H6.264ZM3.506%2075.088H4.836V68.942H3.506V75.088ZM20.334%2066.534H21.818V68.06C21.804%2068.452%2021.79%2068.844%2021.762%2069.208H27.082C27.026%2071.7%2026.942%2073.702%2026.802%2075.228C26.662%2076.74%2026.41%2077.804%2026.074%2078.42C25.738%2078.994%2025.206%2079.302%2024.464%2079.358H22.476L22.084%2077.944C22.672%2077.972%2023.218%2078%2023.75%2078C24.464%2078%2024.926%2077.538%2025.15%2076.642C25.374%2075.704%2025.528%2073.702%2025.598%2070.636H21.636C21.412%2072.568%2020.992%2074.192%2020.39%2075.494C19.55%2077.216%2018.192%2078.546%2016.316%2079.47L15.532%2078.224C17.38%2077.216%2018.626%2075.956%2019.27%2074.43C19.69%2073.366%2019.984%2072.092%2020.152%2070.636H16.288V69.208H20.278C20.306%2068.83%2020.32%2068.452%2020.334%2068.06V66.534Z'%20fill='%232CAB9A'/%3e%3cpath%20d='M28%2023.6667V15C28%207.8203%2022.1797%202%2015%202C7.8203%202%202%207.8203%202%2015V23.6667M5.61111%2028C3.61675%2028%202%2026.3832%202%2024.3889V21.5C2%2019.5056%203.61675%2017.8889%205.61111%2017.8889C7.60547%2017.8889%209.22222%2019.5056%209.22222%2021.5V24.3889C9.22222%2026.3832%207.60547%2028%205.61111%2028ZM24.3889%2028C22.3945%2028%2020.7778%2026.3832%2020.7778%2024.3889V21.5C20.7778%2019.5056%2022.3945%2017.8889%2024.3889%2017.8889C26.3832%2017.8889%2028%2019.5056%2028%2021.5V24.3889C28%2026.3832%2026.3832%2028%2024.3889%2028Z'%20stroke='%232CAB9A'%20stroke-width='2.2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",S2="data:image/svg+xml,%3csvg%20width='33'%20height='80'%20viewBox='0%200%2033%2080'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.5%2028L16.3549%2027.7832C15.3477%2026.2782%2014.8441%2025.5256%2014.1787%2024.9808C13.5896%2024.4986%2012.9109%2024.1367%2012.1813%2023.916C11.3572%2023.6667%2010.4493%2023.6667%208.63349%2023.6667H6.64C5.01585%2023.6667%204.20377%2023.6667%203.58343%2023.3518C3.03776%2023.0748%202.59411%2022.6329%202.31608%2022.0893C2%2021.4713%202%2020.6624%202%2019.0444V6.62222C2%205.00429%202%204.19533%202.31608%203.57736C2.59411%203.03378%203.03776%202.59184%203.58343%202.31487C4.20377%202%205.01585%202%206.64%202H7.22C10.4683%202%2012.0925%202%2013.3331%202.62974C14.4245%203.18368%2015.3118%204.06756%2015.8678%205.15472C16.5%206.39066%2016.5%208.00859%2016.5%2011.2444M16.5%2028V11.2444M16.5%2028L16.6451%2027.7832C17.6523%2026.2782%2018.1559%2025.5256%2018.8213%2024.9808C19.4104%2024.4986%2020.0891%2024.1367%2020.8187%2023.916C21.6428%2023.6667%2022.5507%2023.6667%2024.3665%2023.6667H26.36C27.9842%2023.6667%2028.7962%2023.6667%2029.4166%2023.3518C29.9622%2023.0748%2030.4059%2022.6329%2030.6839%2022.0893C31%2021.4713%2031%2020.6624%2031%2019.0444V6.62222C31%205.00429%2031%204.19533%2030.6839%203.57736C30.4059%203.03378%2029.9622%202.59184%2029.4166%202.31487C28.7962%202%2027.9842%202%2026.36%202H25.78C22.5317%202%2020.9075%202%2019.6669%202.62974C18.5755%203.18368%2017.6882%204.06756%2017.1322%205.15472C16.5%206.39066%2016.5%208.00859%2016.5%2011.2444'%20stroke='%23F7A705'%20stroke-width='2.2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.354%2079.372H10.514L10.248%2078.322C10.024%2078.462%209.702%2078.546%209.296%2078.546H8.4C7.644%2078.546%207.266%2078.098%207.266%2077.23V75.312H6.51C6.314%2076.936%205.362%2078.112%203.654%2078.854L2.898%2077.65C4.284%2077.174%205.068%2076.404%205.264%2075.312H3.99V71.266H5.516C5.194%2070.664%204.844%2070.132%204.48%2069.656L5.698%2069.068C6.062%2069.572%206.398%2070.146%206.734%2070.762L5.726%2071.266H7.294C7.658%2070.524%207.98%2069.74%208.26%2068.914L9.632%2069.404C9.352%2070.09%209.03%2070.706%208.694%2071.266H9.926V75.312H8.54V76.95C8.54%2077.16%208.624%2077.272%208.806%2077.272H9.058C9.212%2077.272%209.324%2077.202%209.408%2077.09C9.506%2076.978%209.576%2076.628%209.618%2076.04L10.85%2076.432C10.78%2077.202%2010.668%2077.734%2010.514%2078.042L11.06%2078.07C11.298%2078.07%2011.424%2077.874%2011.424%2077.482V68.354H6.216V67.01H12.852V77.902C12.852%2078.882%2012.348%2079.372%2011.354%2079.372ZM8.596%2074.136V72.442H5.306V74.136H8.596ZM1.106%2068.83H2.534V79.47H1.106V68.83ZM3.64%2066.366C4.2%2067.038%204.69%2067.766%205.11%2068.578L3.808%2069.25C3.36%2068.382%202.856%2067.626%202.31%2066.954L3.64%2066.366ZM19.208%2067.262H22.246V66.366H23.674V67.262H26.698V68.578H23.674V69.432H26.964V70.342C26.726%2071.238%2026.418%2072.12%2026.04%2073.002L24.612%2072.596C24.92%2072.064%2025.172%2071.462%2025.396%2070.776H18.634V69.432H22.246V68.578H19.208V67.262ZM18.662%2074.472H20.524C19.936%2073.968%2019.334%2073.576%2018.718%2073.268L19.404%2072.26C20.16%2072.61%2020.86%2073.044%2021.49%2073.562L20.888%2074.472H22.526L22.61%2073.744V71.084H24.024V73.744C24.01%2073.996%2023.982%2074.234%2023.954%2074.472H27.174V75.816H23.674C23.646%2075.914%2023.604%2076.012%2023.576%2076.096C24.92%2076.712%2026.166%2077.454%2027.314%2078.294L26.488%2079.568C25.354%2078.602%2024.192%2077.818%2023.016%2077.202L22.792%2077.51C22.064%2078.392%2020.874%2079.078%2019.25%2079.554L18.466%2078.322C20.062%2077.86%2021.126%2077.286%2021.686%2076.6C21.854%2076.348%2022.008%2076.096%2022.148%2075.816H18.662V74.472ZM20.594%2070.846C21.294%2071.182%2021.938%2071.574%2022.526%2072.05L21.84%2073.1C21.224%2072.54%2020.58%2072.106%2019.936%2071.798L20.594%2070.846ZM16.212%2066.604C17.094%2067.276%2017.85%2067.962%2018.466%2068.634L17.472%2069.642C16.94%2068.998%2016.17%2068.326%2015.19%2067.598L16.212%2066.604ZM14.224%2070.636H17.486V76.236C17.738%2075.97%2017.99%2075.69%2018.27%2075.396L18.676%2076.922C17.906%2077.734%2017.094%2078.448%2016.254%2079.078L15.694%2077.762C15.932%2077.552%2016.058%2077.3%2016.058%2077.006V72.036H14.224V70.636Z'%20fill='%23F7A705'/%3e%3c/svg%3e",D2="data:image/svg+xml,%3csvg%20width='30'%20height='75'%20viewBox='0%200%2030%2075'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.29482%2013.9974C7.21444%2013.4767%207.17274%2012.9432%207.17274%2012.4C7.17274%206.65624%2011.8351%202%2017.5864%202C23.3377%202%2028%206.65624%2028%2012.4C28%2013.6975%2027.7621%2014.9395%2027.3274%2016.0849C27.2372%2016.3227%2027.192%2016.4417%2027.1715%2016.5345C27.1512%2016.6265%2027.1434%2016.6913%2027.1412%2016.7855C27.139%2016.8806%2027.1518%2016.9853%2027.1775%2017.1948L27.6981%2021.4461C27.7544%2021.9063%2027.7826%2022.1364%2027.7065%2022.3037C27.6397%2022.4503%2027.5212%2022.5667%2027.3739%2022.6304C27.2058%2022.703%2026.9776%2022.6694%2026.5212%2022.6022L22.402%2021.9952C22.187%2021.9635%2022.0794%2021.9476%2021.9815%2021.9482C21.8846%2021.9488%2021.8176%2021.956%2021.7227%2021.976C21.6269%2021.9962%2021.5044%2022.0423%2021.2595%2022.1346C20.1173%2022.5647%2018.8793%2022.8%2017.5864%2022.8C17.0456%2022.8%2016.5144%2022.7588%2015.9958%2022.6795M9.28274%2028C13.1169%2028%2016.2252%2024.7988%2016.2252%2020.85C16.2252%2016.9012%2013.1169%2013.7%209.28274%2013.7C5.44854%2013.7%202.34031%2016.9012%202.34031%2020.85C2.34031%2021.6438%202.46591%2022.4073%202.69774%2023.1207C2.79574%2023.4223%202.84474%2023.5731%202.86082%2023.6761C2.87761%2023.7837%202.88056%2023.8441%202.8743%2023.9527C2.86831%2024.0568%202.84241%2024.1745%202.79059%2024.4098L2%2028L5.87287%2027.4683C6.08426%2027.4393%206.18995%2027.4248%206.28225%2027.4254C6.37943%2027.4261%206.43102%2027.4313%206.52633%2027.4505C6.61684%2027.4686%206.75141%2027.5163%207.02054%2027.6118C7.72962%2027.8634%208.49069%2028%209.28274%2028Z'%20stroke='%232354C8'%20stroke-width='2.2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.292%2063.032V74.232H11.808V73.476H4.192V74.232H2.722V63.032H13.292ZM4.192%2072.048H11.808V64.46H4.192V72.048ZM20.026%2061.968H27.796V63.312H24.002L23.764%2064.418H27.026V67.092H28.258V68.45H19.69V67.092H21.734L22.028%2065.734H20.362V64.418H22.308L22.546%2063.312H20.026V61.968ZM23.19%2067.092H25.57V65.734H23.484L23.19%2067.092ZM27.39%2069.43V74.498H25.948V73.938H22.084V74.498H20.642V69.43H27.39ZM22.084%2072.566H25.948V70.76H22.084V72.566ZM17.212%2061.604C18.094%2062.276%2018.85%2062.962%2019.466%2063.634L18.472%2064.642C17.94%2063.998%2017.17%2063.326%2016.19%2062.598L17.212%2061.604ZM15.224%2065.636H18.556V71.39C18.906%2071.068%2019.284%2070.704%2019.676%2070.312L20.082%2071.852C19.214%2072.678%2018.304%2073.42%2017.338%2074.078L16.778%2072.762C17.016%2072.552%2017.142%2072.3%2017.142%2072.006V67.036H15.224V65.636Z'%20fill='%232354C8'/%3e%3c/svg%3e",T2="data:image/svg+xml,%3csvg%20width='30'%20height='74'%20viewBox='0%200%2030%2074'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.998%2065.294C5.858%2065.798%205.718%2066.274%205.578%2066.722H13.026C12.97%2070.25%2012.746%2072.238%2012.354%2072.686C11.962%2073.134%2011.122%2073.372%209.848%2073.372H8.672L8.252%2072.014C8.84%2072.042%209.4%2072.056%209.904%2072.056C10.548%2072.056%2010.968%2071.93%2011.192%2071.692C11.388%2071.44%2011.514%2070.222%2011.556%2068.066H3.744C4.36%2066.022%204.822%2064.23%205.116%2062.676L6.558%2062.816C6.474%2063.208%206.404%2063.572%206.32%2063.922H11.822V65.294H5.998ZM1.952%2069.284H10.408V70.684H1.952V69.284ZM13.782%2060.968V64.258H12.34V62.34H3.66V64.244H2.218V60.968H13.782ZM21.692%2063.754C21.048%2065.098%2020.334%2066.246%2019.55%2067.198L18.5%2065.938C19.62%2064.622%2020.6%2062.774%2021.44%2060.366L22.924%2060.702C22.728%2061.262%2022.532%2061.794%2022.336%2062.312H27.978V63.754H23.582V65.616H27.446V67.044H23.582V68.962H27.446V70.376H23.582V73.498H22.098V63.754H21.692ZM16.792%2066.176C16.414%2066.624%2016.022%2067.058%2015.602%2067.478L15.112%2065.91C16.526%2064.356%2017.576%2062.522%2018.262%2060.422L19.648%2061.066C19.298%2062.116%2018.836%2063.124%2018.276%2064.076V73.498H16.792V66.176Z'%20fill='%233A9DBC'/%3e%3cpath%20d='M7.2%2018.399L9.8%2020.999L15.65%2015.149M9.8%209.29902V5.65902C9.8%204.20289%209.8%203.47482%2010.0834%202.91865C10.3327%202.42943%2010.7304%202.03168%2011.2196%201.78241C11.7758%201.49902%2012.5039%201.49902%2013.96%201.49902H23.84C25.2961%201.49902%2026.0242%201.49902%2026.5804%201.78241C27.0696%202.03168%2027.4673%202.42943%2027.7166%202.91865C28%203.47482%2028%204.20289%2028%205.65902V15.539C28%2016.9952%2028%2017.7232%2027.7166%2018.2794C27.4673%2018.7686%2027.0696%2019.1664%2026.5804%2019.4156C26.0242%2019.699%2025.2961%2019.699%2023.84%2019.699H20.2M6.16%2027.499H16.04C17.4961%2027.499%2018.2242%2027.499%2018.7804%2027.2156C19.2696%2026.9664%2019.6673%2026.5686%2019.9166%2026.0794C20.2%2025.5232%2020.2%2024.7952%2020.2%2023.339V13.459C20.2%2012.0029%2020.2%2011.2748%2019.9166%2010.7186C19.6673%2010.2294%2019.2696%209.83168%2018.7804%209.58241C18.2242%209.29902%2017.4961%209.29902%2016.04%209.29902H6.16C4.70386%209.29902%203.9758%209.29902%203.41962%209.58241C2.9304%209.83168%202.53265%2010.2294%202.28338%2010.7186C2%2011.2748%202%2012.0029%202%2013.459V23.339C2%2024.7952%202%2025.5232%202.28338%2026.0794C2.53265%2026.5686%202.9304%2026.9664%203.41962%2027.2156C3.9758%2027.499%204.70386%2027.499%206.16%2027.499Z'%20stroke='%233A9DBC'%20stroke-width='2.2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",E2={class:"flex flex-col w-[280px] lg:w-[340px] bg-white rounded-md border border-border-1 border-solid shadow-lg"},P2={class:"flex px-3 pt-4 items-center justify-center"},F2={class:"w-11 h-11"},z2=["src"],R2=e("svg",{width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{id:"send-01"},[e("path",{id:"Icon",d:"M9.24537 11.25L17.9954 2.50002M9.35169 11.5234L11.5418 17.1551C11.7347 17.6512 11.8312 17.8993 11.9702 17.9717C12.0907 18.0345 12.2342 18.0345 12.3548 17.9719C12.4939 17.8997 12.5906 17.6517 12.7842 17.1558L18.2761 3.08269C18.4508 2.63504 18.5382 2.41121 18.4904 2.26819C18.4489 2.14398 18.3514 2.04651 18.2272 2.00501C18.0842 1.95723 17.8604 2.04458 17.4127 2.21927L3.33958 7.71122C2.84369 7.90474 2.59574 8.0015 2.52348 8.14059C2.46084 8.26116 2.46093 8.4047 2.52371 8.5252C2.59613 8.66421 2.84419 8.76067 3.34031 8.95361L8.97198 11.1437C9.07269 11.1829 9.12304 11.2024 9.16544 11.2327C9.20302 11.2595 9.23589 11.2924 9.2627 11.3299C9.29294 11.3723 9.31252 11.4227 9.35169 11.5234Z",stroke:"white","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),O2=N({__name:"index",setup(L){const g=H(null),w=H(null),C=H(null),o=k2(),x=H(""),r=async()=>{if(x.value==="")return;const h=x.value;x.value="",await o.sendMessage(h),clearInterval(C.value),C.value=setInterval(()=>{M()},100)},c=()=>{clearInterval(C.value)},M=()=>{g.value.scrollIntoView({behavior:"smooth"})};return G(()=>{M(),o.init()}),d2(()=>{clearInterval(C.value)}),(h,$)=>{const z=_("a-input"),T=_("a-button");return a(),i("div",E2,[e("header",P2,[e("span",F2,[e("img",{src:n(L2),alt:"aiassistant",class:"w-[55px] -mt-1"},null,8,z2)]),e("h2",{class:"flex-1 pl-4 font-normal text-green-3 py-2.5",style:j({borderBottom:"1px solid var(--color-gray-200)"})},u(h.$t("鹦鹉AI助教")),5)]),e("section",{class:"flex-1 overflow-auto px-6 pt-4 tellList",ref_key:"messageContainer",ref:w,onScroll:$[0]||($[0]=(...y)=>h.onScroll&&h.onScroll(...y))},[(a(!0),i(I,null,A(n(o).list,y=>(a(),S(M2,p2({key:y.id},y,{onAllEnd:c}),null,16))),128)),e("div",{ref_key:"bottom",ref:g},null,512)],544),e("footer",{class:"flex px-6 py-4",style:j({borderTop:"1px solid var(--color-gray-300)"})},[p(z,{class:"flex-1 mr-3 h-10",placeholder:"输入消息",value:x.value,"onUpdate:value":$[1]||($[1]=y=>x.value=y),onKeyup:u2(r,["enter"])},null,8,["value"]),p(T,{type:"primary",class:"h-10 flex justify-center items-center",onClick:r},{default:d(()=>[p(n(h2),null,{component:d(()=>[R2]),_:1})]),_:1})],4)])}}}),q2={class:"flex flex-col"},K2={class:"font-normal text-gray-900 sticky top-0 left-0 bg-white py-3 z-50"},N2={class:"text-gray-500 flex-1 truncate px-2 text-left indent-5"},U2=N({__name:"index",props:{title:{},list:{}},setup(L){const g=L,w=_2(),C=async o=>{if(o.task_name==="复习旧单词"||o.task_name==="学习新单词")w.push({name:"wordTask",query:{type:o.task_name==="复习旧单词"?"old":"new",id:o.task_account_id}});else{const x=await Z2(o.task_account_id);console.log(x)}};return(o,x)=>{const r=_("a-button");return a(),i("div",q2,[e("h1",K2,u(g.title),1),e("ul",null,[(a(!0),i(I,null,A(g.list,c=>(a(),i("li",{key:c.id,class:"flex justify-between items-center py-4 overflow-hidden"},[c.status===0?(a(),i("span",{key:0,class:"text-[12px] py-[2px] px-[6px] text-gray-700 rounded-md btn-status-0",style:j({border:"1px solid var(--color-gray-300)"})},"未开始",4)):v("",!0),c.status===1?(a(),i("span",{key:1,class:"text-[12px] py-[2px] px-[6px] rounded-md btn-status-1",style:j({border:"1px solid var(--color-gray-300)"})},"进行中",4)):v("",!0),c.status===2?(a(),i("span",{key:2,class:"text-[12px] py-[2px] px-[6px] rounded-md btn-status-2",style:j({border:"1px solid var(--color-gray-300)"})},"已完成",4)):v("",!0),e("p",N2,u(c.task_name),1),c.status===0?(a(),S(r,{key:3,class:"text-[12px] text-green-1 border-green-1",onClick:M=>C(c)},{default:d(()=>[b("去完成")]),_:2},1032,["onClick"])):v("",!0),c.status===1?(a(),S(r,{key:4,class:"text-[12px] text-green-1 border-green-1 ingbtn",onClick:M=>C(c)},{default:d(()=>[b("继续完成")]),_:2},1032,["onClick"])):v("",!0),c.status===2?(a(),S(r,{key:5,class:"text-[12px] text-yellow-1 border-yellow-1 endbtn"},{default:d(()=>[b("已完成")]),_:1})):v("",!0)]))),128))])])}}}),X=J(U2,[["__scopeId","data-v-c25fa289"]]),k=L=>(y2("data-v-2c8ecc1f"),L=L(),V2(),L),Y2={class:"flex p-5 w-full h-full"},W2={class:"flex flex-col flex-1 pr-4 h-full relative pt-[300px]"},X2={class:"absolute top-0 left-0 w-full pr-4"},G2={class:"flex"},J2={class:"w-[calc(100%-60px)] flex bg-white h-[130px] ml-[60px] mt-4 shadow-lg rounded-md border border-border-1 border-solid relative pl-[80px]"},Q2=["src"],e0={class:"h-full flex flex-col pr-10 max-w-[45%]"},t0={class:"text-[25px] text-gray-900 pt-6 truncate"},s0=k(()=>e("p",{class:"text-gray-600 pt-6 truncate"},"Cease to struggle and you cease to live.",-1)),o0=k(()=>e("div",{class:"flex h-full items-center justify-start"},[e("div",{class:"border-l w-[0.5px] h-1/2 bg-[rgba(0,0,0,0.20)]"})],-1)),a0={class:"flex flex-col ml-[40px] pt-6 overflow-auto"},n0={class:"font-bold text-[18px] overflow-hidden"},l0=k(()=>e("span",null,[b("每日学习30分钟以上即完成当日"),e("br"),b("打卡任务！加油哦！")],-1)),r0=["src"],i0={class:"flex text-[12px] font-normal pt-3 ml-[-8px]"},c0={key:0,width:"24px",height:"24px"},d0=["d"],p0={class:"mt-1"},u0={class:"grid w-full grid-cols-4 gap-2 h-[130px] py-4"},h0=["src"],_0={class:"flex items-center justify-center text-[34px] text-white"},C0={class:"text-white"},x0={class:"grid grid-cols-5 grid-rows-5 gap-4 w-full h-full"},f0={class:"col-span-3 overflow-hidden row-span-5 bg-white rounded-md border shadow-lg border-border-1 border-solid flex-1 px-9 pb-3"},g0={class:"h-full relative pt-3"},m0={key:0,class:"text-xs text-center text-[#999] mt-20"},v0={class:"flex mb-2 items-center justify-center w-[180px]"},w0=["src"],H0={class:"flex flex-col flex-1 overflow-hidden text-center"},y0={class:"text-[50px] text-[#475467] font-medium"},V0=k(()=>e("div",{class:"text-base text-[#6B7280] mt-2"},"近7日平均分",-1)),b0=k(()=>e("div",{class:"border-l w-[0.5px] bg-[#D0F0E6] ml-3 h-[78px]"},null,-1)),k0={class:"flex flex-1 flex-col p-6 overflow-hidden"},L0=k(()=>e("div",{class:"text-gray-500 font-bold mb-4 text-[1vw]"},"错误率最高的题型",-1)),M0={key:0,class:"flex overflow-auto scorll-bar-hidden"},Z0={class:"text-[0.8vw] ml-2 justify-center text-gray-500 bg-white border-border-1 px-[12px] py-1",style:{border:"1px solid rgba(102, 112, 133, 1)","border-radius":"18px",width:"auto","white-space":"nowrap"}},$0={class:"bg-white rounded-md border-l col-start-4 col-span-2 row-span-2 shadow-lg flex flex-col items-center justify-center"},B0={class:"flex mb-3"},I0={class:"flex",style:{width:"40%"}},A0=["src"],j0={style:{width:"60%"}},S0={class:"flex flex-col items-center text-[1vw]",style:{width:"100%"}},D0={class:"sm:text-[3vw] text-[4vw]"},T0={class:"col-start-4 col-span-2 row-span-3 shadow-lg overflow-y-auto scorll-bar-hidden flex flex-col overflow-hidden rounded-md bg-white"},E0=k(()=>e("div",{class:"font-bold text-[20px] text-[#1B2559] pl-4 py-3"},"近七日访问次数",-1)),P0={class:"homeChartBox flex-1 overflow-hidden p-2"},F0=k(()=>e("div",{style:{"margin-bottom":"10px"},class:"h-[50px] bg-[#1B8B8C] text-white flex justify-center items-center"},"选择你的托福考试时间",-1)),z0={class:"flex justify-between items-center px-3 pb-2"},R0=N({__name:"index",setup(L){const g=H(!1),w=$2(),C=B2(),o=I2(),x=H("1"),r=C2(),c=H(),M=H(),h=H(),$={read:S2,hear:j2,spoken:D2,writing:T2},z=t=>$[t],T=()=>{var t,l,V,Z;console.log("userStore?.homeCharts?.length:",(t=o==null?void 0:o.homeCharts)==null?void 0:t.length),(Z=M.value)==null||Z.setOption({grid:{left:"28px",right:0,top:"10px",bottom:"20px"},color:["#f1b01f"],xAxis:{data:(l=o==null?void 0:o.homeCharts)==null?void 0:l.map(f=>f==null?void 0:f.week_day[0])},yAxis:{},series:[{type:"bar",data:(V=o==null?void 0:o.homeCharts)==null?void 0:V.map(f=>f==null?void 0:f.login_count)}]})};x2(()=>{var t;return(t=o==null?void 0:o.homeCharts)==null?void 0:t.length},T,{immediate:!0});const y=["background: linear-gradient(256.27deg, #3E8AB3 -8.38%, #166195 128.6%)","background: linear-gradient(250.22deg, #52CDD3 36.77%, #009ED0 117.42%)","background: linear-gradient(250.75deg, #59DEA2 37.06%, #39C0A8 127.79%)","background: linear-gradient(254.37deg, #27B170 -16.85%, #49BD86 96.58%)"],Q=t=>{w.to_task(t)};G(()=>{w.get_vocabs_statics(),w.get_vocabs_tasks(),C.getPastResult(),o.api_checkin(),r.daka(),h.value=K();const t=document.querySelector(".homeChartBox");console.log("onMounted::::",t),c.value.style.width=(t==null?void 0:t.offsetWidth)-20+"px",c.value.style.height=(t==null?void 0:t.offsetHeight)-20+"px",M.value=r2(c.value),T(),window.addEventListener("resize",()=>{const l=i2(c.value);l&&l.resize()})});const e2=()=>{g.value=!0},t2=f2(()=>t=>{const l=t.count_process/t.count_target*100,V=-90,Z=V+l*360/100,f=12+Math.cos(V*Math.PI/180)*12,R=12+Math.sin(V*Math.PI/180)*12,E=12+Math.cos(Z*Math.PI/180)*12,O=12+Math.sin(Z*Math.PI/180)*12,q=l>50?1:0;return`M12,12 L${f},${R} A12,12 0 ${q},1 ${E},${O} Z`});g2(()=>{r.userTargets[2].val&&(h.value=K().add(r.userTargets[2].val,"day"))});const U=t=>{h.value=h.value.add(t,"month")},s2=async t=>{await r.set_update_questionnaire({next_exam_date:t.format("YYYY-MM-DD")}),g.value=!1,await o.api_checkin(),b2.success("设置成功")};return(t,l)=>{var Y,W;const V=_("a-avatar"),Z=_("a-tooltip"),f=_("a-card-meta"),R=_("a-card"),E=_("a-tab-pane"),O=_("a-tabs"),q=_("a-button"),o2=_("a-calendar"),a2=_("a-modal");return a(),i("div",Y2,[e("div",W2,[e("div",X2,[e("div",G2,[e("div",J2,[p(V,{class:"bg-green-1 absolute top-[-10px] left-[-60px] shadow-lg rounded-md border border-border-1 border-solid",style:{"font-size":"40px"},shape:"square",size:100,src:n(r).userInfo.avatar,alt:n(r).userInfo.name},{default:d(()=>[e("img",{src:n(n2),width:"70%"},null,8,Q2)]),_:1},8,["src","alt"]),e("div",e0,[e("h1",t0,u(t.$t(n(m2)()+"好"))+"，"+u(n(r).userInfo.name),1),s0]),o0,e("div",a0,[e("div",n0,[b(" 每日打卡"+u(" ")+" "),p(Z,{placement:"bottomLeft",color:"#D0F0E6",overlayInnerStyle:{color:"#0A3F64",fontSize:"12px",borderRadius:"15px",borderTopLeftRadius:"0",border:"1px solid #0A3F64",marginTop:"-20px",marginLeft:"3px",padding:"10px"}},{title:d(()=>[l0]),default:d(()=>[e("img",{src:n(l2),alt:"hint"},null,8,r0)]),_:1})]),e("div",i0,[(a(!0),i(I,null,A(n(o).homeDaka,(s,m)=>(a(),i("div",{class:"flex px-[10px] flex-col items-center",key:s==null?void 0:s.date},[e("span",{class:v2(["w-[24px] h-[24px] daka-icon",s.class])},[s.class==="today"?(a(),i("svg",c0,[e("path",{id:"fanPath",fill:"#F3B84E",d:t2.value(s)},null,8,d0)])):v("",!0)],2),e("span",p0,u(s.week_day[0]),1)]))),128))])])])]),e("div",u0,[(a(!0),i(I,null,A(n(r).userTargets,(s,m)=>(a(),S(R,{class:"h-[116px] flex items-center justify-center",key:s.id,style:j(y[m])},{default:d(()=>[p(f,null,{title:d(()=>[s.id==="test_due"?(a(),i("span",{key:0,class:"absolute right-1 top-1 w-6 h-6 cursor-pointer",onClick:e2},[e("img",{src:n(A2)},null,8,h0)])):v("",!0),e("span",_0,u(s.val||0),1)]),description:d(()=>[e("span",C0,u(t.$t(s.desc)),1)]),_:2},1024)]),_:2},1032,["style"]))),128))])]),e("div",x0,[e("div",f0,[e("div",g0,[p(O,{class:"h-full task-tabs",activeKey:x.value,"onUpdate:activeKey":l[0]||(l[0]=s=>x.value=s)},{default:d(()=>[p(E,{key:"1",tab:"我的任务"},{default:d(()=>{var s,m,B,D,P,F;return[p(X,{title:`${t.$t("今日任务")} (${(m=(s=n(r).userTargetsList)==null?void 0:s.today)==null?void 0:m.length})`,list:(B=n(r).userTargetsList)==null?void 0:B.today},null,8,["title","list"]),(P=(D=n(r).userTargetsList)==null?void 0:D.wk)!=null&&P.length?(a(),S(X,{key:0,title:`${t.$t("周度任务")} (${n(r).userTargetsList.wk.length})`,list:(F=n(r).userTargetsList)==null?void 0:F.wk},null,8,["title","list"])):v("",!0)]}),_:1}),p(E,{key:"2",tab:"个人学习诊断"},{default:d(()=>{var s,m;return[(s=n(C))!=null&&s.pastScoresIsEmpty?(a(),i("p",m0,"暂无学习诊断，快去学习吧～")):(a(!0),i(I,{key:1},A((m=n(C))==null?void 0:m.pastScores,(B,D)=>(a(),i("div",{class:"flex w-full items-center justify-center overflow-hidden",key:D},[e("div",v0,[e("img",{src:z(D),width:"26",class:"mt-3"},null,8,w0),e("div",H0,[e("div",y0,u(B.avg_s),1),V0])]),b0,e("div",k0,[L0,B.tag?(a(),i("div",M0,[(a(!0),i(I,null,A(B.tag,(P,F)=>(a(),i("div",{key:F},[e("div",Z0,u(P.name),1)]))),128))])):v("",!0)])]))),128))]}),_:1})]),_:1},8,["activeKey"])])]),e("div",$0,[e("div",B0,[e("div",I0,[e("img",{src:n(c2),style:{width:"100%"}},null,8,A0)]),e("div",j0,[e("span",S0,[b("您的当前词汇量为"),e("span",D0,u((Y=n(w).vocabs_statics_data)!=null&&Y.vocab?(W=n(w).vocabs_statics_data)==null?void 0:W.vocab:t.$t("未测试")),1)])])]),p(q,{type:"primary",class:"bg-green-1 text-white w-2/3 h-[34px] rounded-lg border flex items-center justify-center cursor-pointer",onClick:l[1]||(l[1]=s=>Q("new"))},{default:d(()=>[b(" 学习新单词 ")]),_:1})]),e("div",T0,[E0,e("div",P0,[e("div",{ref_key:"HomeChart",ref:c},null,512)])])])]),p(O2),p(a2,{class:"calendar-modal",open:g.value,"onUpdate:open":l[5]||(l[5]=s=>g.value=s),title:"",closable:!1,footer:null,width:"320px"},{default:d(()=>[p(o2,{fullscreen:!1,value:h.value,"onUpdate:value":l[4]||(l[4]=s=>h.value=s),disabledDate:s=>s<n(K)().startOf("day"),onSelect:s2},{headerRender:d(({value:s})=>[F0,e("header",z0,[p(n(w2),{class:"cursor-pointer",onClick:l[2]||(l[2]=m=>U(-1))}),e("span",null,u(s.year())+"年"+u(s.month()+1)+"月",1),p(n(H2),{class:"cursor-pointer",onClick:l[3]||(l[3]=m=>U(1))})])]),_:1},8,["value","disabledDate"])]),_:1},8,["open"])])}}}),t1=J(R0,[["__scopeId","data-v-2c8ecc1f"]]);export{t1 as default};
