import{M as _e,_ as se,a as ve,b as ye}from"./Avatar.vue_vue_type_script_setup_true_lang-CK9_yabl.js";import{_ as ge}from"./index.vue_vue_type_script_setup_true_lang-WxacXeJM.js";import{H as xe,_ as ne}from"./HeaderBtn-JqELAwNT.js";import{e as we,f as be}from"./result-GaEqHtMw.js";import{u as le}from"./exam-ArPkEPgX.js";import{d as U,r as S,z as re,s as ue,o as ce,a as ke,c as n,e as d,M as de,N as Ce,f as o,t as x,u as E,a9 as De,aa as Se,U as qe,a1 as Te,b as A,F as _,g,h as C,j as B,p as M,C as Ee,ab as Ie,J as R,A as Ae,k as Be,S as Ne,i as I,m as $,l as T,D as Re,E as $e}from"./index-uSMflhu5.js";import{_ as Me}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./left-qqsnZct-.js";const Ue={class:"flex justify-start items-center h-[32px] overflow-hidden"},je=["src"],ze={class:"text-[#1B8B8C] text-[12px] pl-1"},We=U({__name:"Timer",props:{paused:{type:Boolean}},setup(r){const s=le(),a=S(!0),f=r,p=S(null),i=re(()=>qe(s.examing_data.time_remain)),l=()=>{p.value=setInterval(()=>{s.examing_data.time_remain--,s.examing_data.time_remain<=0&&clearInterval(p.value)},1e3)};ue(()=>f.paused,c=>{c?clearInterval(p.value):l()}),ce(()=>{l()}),ke(()=>{clearInterval(p.value)});const e=()=>{a.value=!a.value};return(c,v)=>(n(),d("div",Ue,[de(o("span",null,x(i.value),513),[[Ce,a.value]]),o("span",{class:"flex justify-center items-center cursor-pointer pl-2",onClick:e},[o("img",{src:a.value?E(De):E(Se),alt:"hide-eye",class:"w-[20px] h-full"},null,8,je),o("span",ze,x(a.value?"Hide Timer":"Show Timer"),1)])]))}});var Pe=function(){var r=document.getSelection();if(!r.rangeCount)return function(){};for(var s=document.activeElement,a=[],f=0;f<r.rangeCount;f++)a.push(r.getRangeAt(f));switch(s.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":s.blur();break;default:s=null;break}return r.removeAllRanges(),function(){r.type==="Caret"&&r.removeAllRanges(),r.rangeCount||a.forEach(function(p){r.addRange(p)}),s&&s.focus()}},He=Pe,ae={"text/plain":"Text","text/html":"Url",default:"Text"},Qe="Copy to clipboard: #{key}, Enter";function Ve(r){var s=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return r.replace(/#{\s*key\s*}/g,s)}function Fe(r,s){var a,f,p,i,l,e,c=!1;s||(s={}),a=s.debug||!1;try{p=He(),i=document.createRange(),l=document.getSelection(),e=document.createElement("span"),e.textContent=r,e.ariaHidden="true",e.style.all="unset",e.style.position="fixed",e.style.top=0,e.style.clip="rect(0, 0, 0, 0)",e.style.whiteSpace="pre",e.style.webkitUserSelect="text",e.style.MozUserSelect="text",e.style.msUserSelect="text",e.style.userSelect="text",e.addEventListener("copy",function(m){if(m.stopPropagation(),s.format)if(m.preventDefault(),typeof m.clipboardData>"u"){a&&console.warn("unable to use e.clipboardData"),a&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var u=ae[s.format]||ae.default;window.clipboardData.setData(u,r)}else m.clipboardData.clearData(),m.clipboardData.setData(s.format,r);s.onCopy&&(m.preventDefault(),s.onCopy(m.clipboardData))}),document.body.appendChild(e),i.selectNodeContents(e),l.addRange(i);var v=document.execCommand("copy");if(!v)throw new Error("copy command was unsuccessful");c=!0}catch(m){a&&console.error("unable to copy using execCommand: ",m),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(s.format||"text",r),s.onCopy&&s.onCopy(window.clipboardData),c=!0}catch(u){a&&console.error("unable to copy using clipboardData: ",u),a&&console.error("falling back to prompt"),f=Ve("message"in s?s.message:Qe),window.prompt(f,r)}}finally{l&&(typeof l.removeRange=="function"?l.removeRange(i):l.removeAllRanges()),e&&document.body.removeChild(e),p()}return c}var Le=Fe;const oe=Te(Le),Oe={class:"flex justify-between items-center bg-green-2 w-full h-[50px]"},Ye={class:"w-2/3 flex"},Xe={class:"text-[#1B8B8C] text-[12px] font-bold pl-1"},Je={class:"flex-1 overflow-hidden pb-3 py-1 px-1"},ie=U({__name:"WtitingBtn",props:{bt_name:{},onChange:{type:Function}},setup(r){const s=S(!0),a=S(null),f=S("");function p(c,v){if(c.selectionStart||c.selectionStart===0){var m=c.selectionStart,u=c.selectionEnd;f.value=c.value.substring(0,m)+v+c.value.substring(u,c.value.length)}else f.value+=v}const i=async c=>{var w;const v=a.value.selectionStart,m=a.value.selectionEnd,u=a.value.value.substring(v,m);if(c==="Copy")oe(u);else if(c==="Cut")oe(u),f.value=a.value.value.substring(0,v)+a.value.value.substring(m);else if(c==="Paste"){const D=await navigator.clipboard.readText();p(a.value,D)}(w=a.value)==null||w.focus()},l=r,e=()=>{s.value=!s.value};return ue(()=>f.value,()=>{l.onChange(f.value)}),(c,v)=>{const m=A("a-button");return n(),d(_,null,[o("div",Oe,[o("div",Ye,[(n(!0),d(_,null,g(l.bt_name,(u,w)=>(n(),C(m,{type:"primary",key:w,class:"w-[80px] h-[34px] mx-1.5 text-[16px] flex items-center justify-center",onClick:D=>i(u)},{default:B(()=>[o("span",null,x(c.$t(u)),1)]),_:2},1032,["onClick"]))),128))]),o("div",{class:"flex w-1/3 justify-center items-center cursor-pointer",onClick:e},[o("span",Xe,[M(x(s.value?"Hide":"Show")+" Word Count ",1),o("span",{class:Ee(["text-[#000000] text-[16px] pl-1 font-normal",{hidden:!s.value}])},x(f.value.split(/\s/g).filter(u=>u).length),3)])])]),o("div",Je,[de(o("textarea",{ref_key:"textAreaEl",ref:a,class:"w-full h-full border-none resize-none outline-[#edf6f6] text-base","onUpdate:modelValue":v[0]||(v[0]=u=>f.value=u)},null,512),[[Ie,f.value]])])],64)}}}),pe=r=>(Re("data-v-b9aba481"),r=r(),$e(),r),Ke={class:"flex"},Ge={class:"flex flex-1 bg-white flex-col overflow-hidden"},Ze={key:2,class:"flex flex-col flex-1 overflow-hidden"},et=pe(()=>o("div",{class:"h-[100px]"},null,-1)),tt={class:"flex flex-1 overflow-hidden",style:{borderTop:"1px solid #D0D5DD"}},st={class:"w-1/2 text-base h-full overflow-y-auto px-10 pt-10",style:{borderRight:"1px solid #D0D5DD"}},nt=pe(()=>o("div",{class:"h-[100px]"},[o("div",{class:"text-base"},[o("p",{class:"bg-[#F6F6F6] px-10 py-2"},[o("b",null,"Directions:"),M(" You have 20 minutes to plan and write your response. Your response will be judged on the basis of the quality of your writing and on how well your response presents the points in the lecture and their relationship to the reading passage. Typically, an effective response will be 150 to 225 words. ")]),o("p",{class:"px-10 py-1"},[o("b",null,"Question: "),M("Summarize the points made in the lecture, being sure to explain how they cast doubt on the specific points made in the reading passage. ")])])],-1)),at={class:"flex flex-1 overflow-hidden",style:{borderTop:"1px solid #D0D5DD"}},ot={class:"w-1/2 text-base h-full overflow-y-auto px-10 pt-10",style:{borderRight:"1px solid #D0D5DD"}},it={class:"w-1/2 flex flex-col overflow-hidden"},lt={key:1,class:"flex text-base flex-1"},rt={class:"flex w-1/2 flex-col py-10 px-10 text-[#475467]"},ut={class:"flex w-1/2 flex-col py-4",style:{borderLeft:"1px solid #D0D5DD"}},ct=U({__name:"index",setup(r){const s=S(!0),a=le(),f=Be(),{query:p}=Ne(),i=S(p.step?Number(p.step):0),l=R([{type:"info",title:"Writing",info_title:"Writing Section Directions",question_title:["In this section, you will be able to demonstrate your ability to use writing to communicate in anacademic environment. ","There will be two writing tasks.","Now listen to the directions for the frst writing task."]}]),e=re(()=>l[i.value]),c=t=>{l[i.value].answer=t},v=()=>{l[i.value].step++,D()},m=async()=>{var t,b,k;await we({question_id:(t=e.value)==null?void 0:t.question_id,answer:(b=e.value)==null?void 0:b.answer,duration:0,sheet_id:p.id}),await be(p.id,(k=e.value)==null?void 0:k.question_id)},u=R({horn:{title:"horn",id:"horn",disabled:!0,isShow:!1},continue:{title:"CONTINUE",id:"continue",disabled:!1,isShow:!0,onClick:()=>{i.value===0?i.value=1:l[i.value].step++,D()}},next:{title:"NEXT",id:"next",disabled:!1,isShow:!1,onClick:async()=>{const t=l[i.value];i.value>0&&(l[i.value].step<t.maxStep?l[i.value].step++:i.value<l.length-1&&(await m(),i.value++,t.step=0)),D()}},submit:{title:"SUBMIT",id:"submit",disabled:!1,isShow:!1,onClick:async()=>{await m(),a.requestSubmitExam(p.id)}}});Ae(()=>{var t,b,k,q;((t=e.value)==null?void 0:t.type)==="info"&&(u.horn.isShow=!1),((b=e.value)==null?void 0:b.step)>0&&(u.continue.isShow=!1,u.next.isShow=!0),i.value===l.length-1&&((k=e.value)==null?void 0:k.step)===((q=e.value)==null?void 0:q.maxStep)?(u.next.isShow=!1,u.submit.isShow=!0):u.submit.isShow=!1});const w=R({cut:{bt_name:["Copy","Cut","Paste"]}}),D=()=>{f.replace({query:{...p,step:i.value,questionStep:l[i.value].step}})};return ce(async()=>{await a.getExamData(p.id),a.examing_data.questions.map(t=>{if(t.keywords.r===1200)t.type="question",t.step=0,t.maxStep=3,t.answer="",t.title="Integrated wirting",t.question_content=t.question_content.split(/\n/g),t.question_title=t.question_title.split(/\n/g),t.guide={type:"info",title:"Writing",info_title:"Writing Based on Reading and Listening",question_title:["For this task, you will have 3 minutes to read a passage about an academic topic. ","Then you will listen to a lecture about the same topic.","You will have 20 minutes to write. In your response, provide a detailed summary of the lecture and explain how the lecture relates to the reading passage. While you write, you will be able to see the reading passage.","In <b>Untimed Mode</b> in this practice test, you may listen to the lecture again by selecting <b>Replay Talk</b>. This function is not available in the actual test. Note that returning to the lecture could result in a section score higher than the score you would receive if encountering the lecture only one time.",'If you finish your response before time is up, you may select <button class="nextbtn">next</button>to go on to the second writing task.',"Now you will see the reading passage. It will be followed by a lecture."]};else if(t.keywords.r===600){const b=/\n?[a-zA-z\s]+:/g,k=t.question_content.match(b);t.type="question",t.step=0,t.maxStep=1,t.answer="",t.title="Academic discussion",t.question_content=t.question_content.split(b).slice(1).map((q,N)=>({name:k[N].replace(/:/g,"").replace(/\n/g,""),content:q.split(/\n/g)})),t.question_title=t.question_title.split(/\n/g),t.guide={type:"info",title:"Writing",question:2,info_title:"Writing for an Academic Discussion",question_title:[`For this task, you will read an online discussion. A professor has posted a question about a topic, and someclassmates have responded with their ideas.
          You will write a response that contributes to the discussion. in the actual test and in Timed Mode in thispractice test, you will have 10 minutes to write your response.
          If you finish your response before time is up, you may select <button class="nextbtn">Next</button> to end this section.`]}}}),l.push(...a.examing_data.questions),l[i.value].step=Number(p.questionStep)||0,D(),s.value=!1}),(t,b)=>{const k=A("a-spin"),q=A("b-header"),N=A("BQuesTitle"),fe=A("a-layout");return s.value?(n(),C(k,{key:0,size:"large",tip:"试题加载中...",class:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50"})):(n(),C(fe,{key:1,class:"w-full h-full flex flex-col"},{default:B(()=>{var j,z,W,P,H,Q,V,F,L,O,Y,X,J,K,G,Z,ee,te;return[I(q,{title:((j=E(p))==null?void 0:j.name)||"模拟考试"},{right:B(()=>[o("div",Ke,[(n(!0),d(_,null,g(Object.keys(u),h=>(n(),C(xe,$(u[h],{key:h}),null,16))),128))])]),_:1},8,["title"]),o("div",Ge,[((z=e.value)==null?void 0:z.type)==="info"?(n(),C(ne,{key:0,title:e.value.title,info_title:e.value.info_title,question_title:e.value.question_title,is_show_footer:!0},null,8,["title","info_title","question_title"])):((W=e.value)==null?void 0:W.type)==="question"&&((P=e.value)==null?void 0:P.step)===0?(n(),C(ne,{key:1,title:(H=e.value.guide)==null?void 0:H.title,info_title:(Q=e.value.guide)==null?void 0:Q.info_title,question_title:(V=e.value.guide)==null?void 0:V.question_title,is_show_footer:!0},null,8,["title","info_title","question_title"])):((F=e.value)==null?void 0:F.type)==="question"&&((L=e.value)==null?void 0:L.step)>0?(n(),d("div",Ze,[I(N,{title:e.value.title,index:i.value,length:l.length-1},{right:B(()=>[I(We)]),_:1},8,["title","index","length"]),((Y=(O=e.value)==null?void 0:O.keywords)==null?void 0:Y.r)===1200?(n(),d(_,{key:0},[e.value.step===1?(n(),d(_,{key:0},[et,o("div",tt,[o("div",st,[(n(!0),d(_,null,g(e.value.question_content,(h,y)=>(n(),d("p",{class:"text-[#475467] text-base pb-4 indent-8",key:y},x(h),1))),128))])])],64)):T("",!0),e.value.step===2?(n(),C(ge,{key:1,title:"Please listen carefully.",url:e.value.voice_link,img:"1",class:"mt-20",ended:v},null,8,["url"])):T("",!0),e.value.step===3?(n(),d(_,{key:2},[nt,o("div",at,[o("div",ot,[(n(!0),d(_,null,g(e.value.question_content,(h,y)=>(n(),d("p",{class:"text-[#475467] text-base pb-4 indent-8",key:y},x(h),1))),128))]),o("div",it,[(n(!0),d(_,null,g(Object.keys(w),h=>(n(),C(ie,$(w[h],{onChange:c,key:h}),null,16))),128))])])],64)):T("",!0)],64)):T("",!0),((X=e.value.keywords)==null?void 0:X.r)===600?(n(),d("div",lt,[o("div",rt,[(n(!0),d(_,null,g(e.value.question_title,(h,y)=>(n(),d("div",{key:y},x(h),1))),128)),I(se,{src:E(_e),class:"my-10",name:(K=(J=e.value)==null?void 0:J.question_content[0])==null?void 0:K.name,size:80},null,8,["src","name"]),o("div",null,[(n(!0),d(_,null,g((Z=(G=e.value)==null?void 0:G.question_content[0])==null?void 0:Z.content,(h,y)=>(n(),d("p",{key:y},x(h),1))),128))])]),o("div",ut,[(n(!0),d(_,null,g((te=(ee=e.value)==null?void 0:ee.question_content)==null?void 0:te.slice(1),(h,y)=>(n(),d("div",{key:y,class:"text-[#475467] text-base flex mb-4 items-start"},[I(se,{src:y==0?E(ve):E(ye),class:"mx-10",name:h.name,size:80},null,8,["src","name"]),o("div",null,[(n(!0),d(_,null,g(h.content,(me,he)=>(n(),d("p",{key:he},x(me),1))),128))])]))),128)),(n(!0),d(_,null,g(Object.keys(w),h=>(n(),C(ie,$(w[h],{key:h,onChange:c}),null,16))),128))])])):T("",!0)])):T("",!0)])]}),_:1}))}}}),gt=Me(ct,[["__scopeId","data-v-b9aba481"]]);export{gt as default};
