import{e as T}from"./erweima-54vTubhK.js";import{d as J,p as P,r as f,D as B,c as g,e as w,i as e,j as t,E as H,b as u,f as s,u as p,l as c,t as m}from"./index-PocizONO.js";import{u as K}from"./user-1dPxCcos.js";import{u as M}from"./useGetCode-28NIwYY1.js";const O="/assets/about-kIfRBhJk.svg",Q={class:"flex w-full h-full overflow-y-auto"},W={class:"bg-white w-[200px] h-[192px] flex flex-col items-center justify-center border border-border-1 border-solid rounded-md ml-[100px]"},X=s("div",{class:"h-[1px] bg-green-1 w-16"},null,-1),Y={key:1,class:"w-full flex flex-col justify-center items-center mb-[-10px]"},Z=s("div",{class:"text-green-1 py-1"},"删除",-1),ee={class:"bg-white w-[740px] h-full flex flex-col border border-border-1 border-solid rounded-md p-[80px] ml-[50px]",style:{width:"50%"}},te=s("h1",{class:"text-[26px]"},"账户信息",-1),se=s("div",{class:"text-[26px] py-[30px] text-black-1"},"修改密码",-1),le=s("span",{class:"text-gray-500 pr-2 relative after:content-[''] after:w-[1px] after:h-5 after:bg-gray-500 after:absolute after:right-0 after:top-1/2 after:-translate-y-1/2"},"+86",-1),ae=s("span",{class:"text-gray-500 pr-2 relative after:content-[''] after:w-[1px] after:h-5 after:bg-gray-500 after:absolute after:right-0 after:top-1/2 after:-translate-y-1/2"},"+86",-1),oe=s("div",{class:"text-[26px] py-[30px] text-black-1"},"修改手机号",-1),re=s("div",{class:"pb-[15px]"},"原手机号",-1),ne=s("span",{class:"text-gray-500 pr-2 relative after:content-[''] after:w-[1px] after:h-5 after:bg-gray-500 after:absolute after:right-0 after:top-1/2 after:-translate-y-1/2"},"+86",-1),pe=s("div",{class:"pb-[15px]"},"验证码",-1),de=s("span",{class:"text px-2 cursor-pointer text-green-1"}," 获取验证码 ",-1),ie=s("div",{class:"pb-[15px]"},"设置新手机号",-1),ue=s("h1",{class:"text-[26px]"},"通知提醒管理",-1),fe={class:"bg-white w-[740px] h-[818px] flex border border-border-1 border-solid rounded-md flex-col p-[80px]",style:{width:"50%"}},ce={class:"flex flex-col w-full items-center justify-center"},me=["src"],xe=s("span",{class:"text-[20px] pt-3"},"Version 1.0.0",-1),be=s("h1",{class:"text-[26px] flex w-1/2 items-start justify-start pt-10"},"隐私条款",-1),_e=s("h1",{class:"text-[26px] flex w-1/2 items-start justify-start pt-10"},"反馈意见",-1),he={class:"flex items-center justify-center h-full"},ye={class:"flex flex-col mt-2",style:{width:"30%"}},ve=["src"],ge=s("div",{class:"w-[127px] flex justify-center items-center text-[16px] text-[#475467]"},"添加企业微信",-1),we=s("div",{class:"flex text-[16px] h-full items-center justify-center mr-10"},[s("div",{class:"text-[#475467]"},"客服邮箱"),s("div",{class:"text-green-1 pl-2"},"frank_fan@parrotbot.cn")],-1),je=J({__name:"index",setup(ke){const i=P(),k=f(!1),C=f(!1),b=f(!1),_=f(!1),$=f(!0),I=K(),h=f(!1),y=f(),{getCodeBtnText:L,getCode:V,resetCode:q}=M(),d=B({mobile:"",code:"",password:""}),v=B({mobile:[{required:!0,message:"请输入你的手机号！"},{pattern:H,message:"请输入正确的手机号！",trigger:"blur"}],code:[{required:!0,message:"请输入验证码！"}],password:[{required:!0,message:"请输入密码！"}]}),A=async()=>{try{h.value=!0,await I.api_findPassword(d)}catch(o){console.log(o)}finally{h.value=!1}},N=()=>{y.value.validateFields("mobile").then(()=>{V(d.mobile,()=>{I.api_sms(d.mobile,q)})})},z=()=>{b.value=!0},D=()=>{_.value=!0},E=()=>{$.value=!1};return(o,l)=>{const F=u("a-avatar"),x=u("a-button"),r=u("a-input"),n=u("a-form-item"),U=u("a-form"),j=u("a-modal"),R=u("a-switch"),S=u("a-tab-pane"),G=u("a-tabs");return g(),w("div",Q,[e(G,{class:"w-full h-full page-tab-setting"},{default:t(()=>[e(S,{key:"1",tab:"个人账号",class:"flex"},{default:t(()=>[s("div",W,[e(F,{class:"bg-green-1 top-[-10px] shadow-lg border border-border-1 border-solid",style:{"font-size":"40px",width:"48%"},size:100,src:p(i).userInfo.avatar,alt:p(i).userInfo.name},{default:t(()=>[c(m(p(i).userInfo.name[0]||""),1)]),_:1},8,["src","alt"]),$.value?(g(),w("div",{key:0,class:"text-green-1 cursor-pointer",onClick:E},[c("编辑头像"),X])):(g(),w("div",Y,[e(x,{type:"primary","html-type":"submit",class:"shadow-none w-2/3 px-4 py-1.5 h-auto"},{default:t(()=>[c(m(o.$t("更新")),1)]),_:1}),Z]))]),s("div",ee,[te,e(U,{ref_key:"formRef",ref:y,layout:"vertical",name:"login",autocomplete:"off",class:"mt-8"},{default:t(()=>[e(n,{label:o.$t("用户名"),name:"code"},{default:t(()=>[e(r,{class:"px-3.5 py-2.5",value:p(i).userInfo.name,"onUpdate:value":l[0]||(l[0]=a=>p(i).userInfo.name=a),disabled:"true"},null,8,["value"])]),_:1},8,["label"]),e(n,{label:o.$t("密码"),name:"code"},{default:t(()=>[e(r,{class:"px-3.5 py-0",placeholder:o.$t("输入密码")},{suffix:t(()=>[s("span",{class:"text h-full py-2.5 px-2 cursor-pointer text-green-1",onClick:l[1]||(l[1]=a=>z())}," 修改密码 "),e(j,{open:b.value,"onUpdate:open":l[5]||(l[5]=a=>b.value=a),closable:"false",footer:"",class:"mt-[100px] my-modal"},{default:t(()=>[se,e(U,{ref_key:"formRef",ref:y,model:d,layout:"vertical",name:"login",autocomplete:"off",onFinish:A},{default:t(()=>[e(n,{label:"手机号",name:"mobile",rules:v.mobile},{default:t(()=>[e(r,{value:d.mobile,"onUpdate:value":l[2]||(l[2]=a=>d.mobile=a),type:"tel",class:"py-2.5 px-3.5",placeholder:"输入您的手机号"},{prefix:t(()=>[le]),_:1},8,["value"])]),_:1},8,["rules"]),e(n,{label:"验证码",name:"code",rules:v.code},{default:t(()=>[e(r,{value:d.code,"onUpdate:value":l[3]||(l[3]=a=>d.code=a),class:"px-3.5 py-0",placeholder:"输入验证码"},{suffix:t(()=>[s("span",{onClick:N,class:"text h-full py-2.5 px-2 cursor-pointer text-green-1"},m(p(L)),1)]),_:1},8,["value"])]),_:1},8,["rules"]),e(n,{label:"设置新密码",name:"password",rules:v.password},{default:t(()=>[e(r,{value:d.password,"onUpdate:value":l[4]||(l[4]=a=>d.password=a),class:"py-2.5 px-3.5",placeholder:"输入新密码"},null,8,["value"])]),_:1},8,["rules"]),e(n,{class:"mb-0"},{default:t(()=>[e(x,{type:"primary","html-type":"submit",class:"shadow-none w-full px-4 py-2.5 h-auto",loading:h.value},{default:t(()=>[c("确认")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open"])]),_:1},8,["placeholder"])]),_:1},8,["label"]),e(n,{label:o.$t("手机号"),name:"mobile"},{default:t(()=>[e(r,{type:"tel",class:"py-2.5 px-3.5",placeholder:o.$t("您的手机号"),value:p(i).userInfo.mobile,"onUpdate:value":l[9]||(l[9]=a=>p(i).userInfo.mobile=a),disabled:"true"},{prefix:t(()=>[ae]),suffix:t(()=>[s("span",{class:"text px-2 cursor-pointer text-green-1",onClick:l[8]||(l[8]=a=>D())},[c(" 修改手机号 "),e(j,{open:_.value,"onUpdate:open":l[7]||(l[7]=a=>_.value=a),closable:"false",class:"w-[250px] mt-[100px] my-modal",footer:""},{default:t(()=>[oe,e(n,{name:"mobile"},{default:t(()=>[re,e(r,{type:"tel",class:"py-2 px-3.5",placeholder:o.$t("您的手机号"),value:p(i).userInfo.mobile,"onUpdate:value":l[6]||(l[6]=a=>p(i).userInfo.mobile=a),disabled:"true"},{prefix:t(()=>[ne]),_:1},8,["placeholder","value"])]),_:1}),e(n,{name:"mobile"},{default:t(()=>[pe,e(r,{type:"tel",class:"py-2 px-3.5",placeholder:o.$t("请输入验证码")},{suffix:t(()=>[de]),_:1},8,["placeholder"])]),_:1}),e(n,{name:"mobile"},{default:t(()=>[ie,e(r,{type:"tel",class:"py-2 px-3.5",placeholder:o.$t("请输入新手机号")},null,8,["placeholder"])]),_:1}),e(x,{type:"primary","html-type":"submit",class:"shadow-none w-full px-4 py-2.5 h-auto"},{default:t(()=>[c(m(o.$t("确认")),1)]),_:1})]),_:1},8,["open"])])]),_:1},8,["placeholder","value"])]),_:1},8,["label"]),ue,e(n,{name:"code"},{default:t(()=>[e(r,{class:"px-3.5 py-2.5 mt-8",placeholder:o.$t("打开网站提醒")},{addonAfter:t(()=>[e(R,{checked:k.value,"onUpdate:checked":l[10]||(l[10]=a=>k.value=a)},null,8,["checked"])]),_:1},8,["placeholder"]),e(r,{class:"px-3.5 py-2.5 mt-8 ant-input-wrapper",placeholder:o.$t("打开短信提醒")},{addonAfter:t(()=>[e(R,{checked:C.value,"onUpdate:checked":l[11]||(l[11]=a=>C.value=a)},null,8,["checked"])]),_:1},8,["placeholder"])]),_:1})]),_:1},512),e(n,{class:"mb-0"},{default:t(()=>[e(x,{type:"primary","html-type":"submit",class:"shadow-none w-full px-4 py-2.5 h-auto"},{default:t(()=>[c(m(o.$t("更新账户信息")),1)]),_:1})]),_:1})])]),_:1}),e(S,{key:"2",tab:"关于鹦鹉智学",class:"w-full h-full flex items-center justify-center"},{default:t(()=>[s("div",fe,[s("div",ce,[s("img",{src:p(O),alt:"about"},null,8,me),xe]),be,e(n,{name:"code"},{default:t(()=>[e(r,{class:"px-3.5 py-2.5 mt-8",placeholder:o.$t("《鹦鹉智学协议》"),disabled:"true"},{suffix:t(()=>[s("span",{class:"text px-2 cursor-pointer font-bold text-green-1",onClick:l[12]||(l[12]=(...a)=>o.toLink&&o.toLink(...a))}," 查看 ")]),_:1},8,["placeholder"]),e(r,{class:"px-3.5 py-2.5 mt-8",placeholder:o.$t("《隐私保护指引》"),disabled:"true"},{suffix:t(()=>[s("span",{class:"text px-2 cursor-pointer font-bold text-green-1",onClick:l[13]||(l[13]=(...a)=>o.toLink&&o.toLink(...a))}," 查看 ")]),_:1},8,["placeholder"]),_e,s("div",he,[s("div",ye,[s("img",{src:p(T),style:{width:"127px"}},null,8,ve),ge]),we])]),_:1})])]),_:1})]),_:1})])}}});export{je as default};
